# Abstract

- This document explores and defines various signals and its uses and interactions amongst hardware, OS, processes and threads.

## Process Group

1. What is?
   1. A collection of one or more processes used to control the distribution of a signal. When a signal is directed to a process group, the signal is delivered to each process that is a member of the group.
   2. A session denotes a collection of one or more process groups.
      1. A process group is not permitted to migrate from one session to another, and a process may not create a process group that belongs to another session; furthermore, a process is not permitted to join a process group that is a member of another session - that is, **a process is not permitted to migrate from one session to another.**
      2. When a process replaces its image with a new image (by calling one of the exec functions), **the new image is subjected to the same process group (and thus session) membership as the old image**.
2. Applications
   1. Background
      1. A **distribution of signals to process groups forms the basis of job control employed by shell program**.
      2. The tty device driver incorporates a notion of a **foreground process group**, to which **it sends signals generated by keyboard interrupts**, notably SIGINT("interrupt", C-c), SIGSTOP("terminal stop", C-z), and SIGQUIT ("quit", "C-\").
         1. It also sends **SIGTTIN and SIGTTOU signals to any processes that attempt to read from or write to the terminal and that are not in the foreground process group**.
         2. The **shell partition the command pipelines that it creates into process groups, and control what process group is the foreground process group of its controlling terminal**, and thus **determining what processes (and thus what command pipelines) may perform I/O and from the terminal at any given time**.
      3. Both the parent shell process and the child process immediately attempt to make the child process into a leader of the process group for the command pipeline when the parent shell forks a new child process for a command pipeline.
   2. Session handling
      1. When a textual user interface is being used on UNIX-like system, **sessions are used to implement login sessions**. A single process, **the session leade**r, **interacts with the controlling terminal in order to ensure that all programs are terminated when a user "hangs up" the terminal connection**. (Where a **session leader is absent** the **processes in the terminal's foreground process group are expected to handle hangups**.)
      2. When a graphical user interface is being used, the session concept is largely lost, and the kernel's notion of sessions largely ignored. GUI such as X display manager uses a different mechanism for implementing login sessions.
   3. System Calls
      1. setsid()
         1. used to **create a new session containing a single new process group, with the current process as both the session leader and the process group leader of that single process group**.
         2. Process group id, a positive integer, is the process identifier of the process that is (or was) the process group leader.
            1. Process groups need not necessarily have leaders, although they always begin with one.
            2. **Sessions are identified by the process group id of the session leader**. POSIX prohibits the change of the process group id of a session leader.
      2. setpgid()
         1. used to **set the process group id of a process, thereby either joining the process to an existing process group, or creating a new process group within the session of the process with the process becoming the process group leader of the newly created group**. POSIX prohibits the re-use of a process ID where a process group with that identifier still exists. It thereby guarantees that process may not accidentally become process group leaders.

## Signal Table & Definition

1. SIGHUP (1) - Signal hang up
   1. Default Action
      1. Terminate
      2. Hangup
   2. What is?
      1. A signal sent to a process when its controlling terminal is closed. (Originally designed to notify the process of a serial line drop).
      2. A symbolic constant defined in the header file signal.h
   3. History
      1. SIGHUP signal sent to programs when the serial line was dropped, often because the connected user terminated the connection by hanging up the modem
      2. in the early implementations there were no user-defined signals such as SIGUSR1 and SIGUSR2 that programs could intercept and interpret for their own purposes. Thus, applications that did not require a controlling terminal, such as **daemons, would re-purpose SIGHUP as a signal to re-read configuration files, or reinitialize.** This convention survives to this day in pakcages such as Apache and Sendmail.
   4. Modern usage
      1. With the decline of access via serial line, the meaning of SIGHUP has changed, often meaning a controlling pseudo or virtual terminal has been closed.
         1. When a **command is executed inside a terminal window and the terminal window is closed while the command process is still running, it receives SIGHUP**.
      2. If the process receiving SIGHUP is a Unix shell, **the shell's job control will often intercept the signal and ensure that all stopped processes are continued before sending the signal to child processes** (more precisely, process groups, represented internally by the shell as a "job"), which by default terminates them
   5. Circumventing SIGHUP
      1. nohup
         1. A shell utility which can be used as a wrapper to start a program and make it ignore SIGHUP by default.
      2. disown
         1. Child process groups can be "disowned" which removes the process group from the shell's job table (so they will not be sent SIGHUP), or (optionally) keeps them in the job table but prevent them from receiving SIGHUP on shell termination.
2. SIGINT(2)
   1. Default Action
      1. Terminate
      2. Terminal interrupt signal
   2. Def
      1. A signal sent to a process by its controlling terminal when a user wishes to interrupt the process **typically initiated by pressing "Ctrl + C"**, but on some systems, the "delete" character or "break" key can be used.
3. SIGQUIT(3)
   1. Default Action
      1. Terminate (core dump)
      2. Terminal quit signal
   2. Def
      1. A signal sent to a process by its controlling terminal when the **user requests that the process quit and perform a core dump**.
4. SIGILL(4)
   1. Default Action
      1. Terminate (core dump)
      2. Illegal instruction
   2. Def
      1. A signal sent to a process when it attempts to execute an **illegal, malformed, unknown, or privileged instruction**
5. SIGTRAP(5)
   1. Default Action
      1. Terminate (core dump)
      2. Trace/breakpoint trap
   2. Def
      1. A signal sent to a process when **an exception (or trap) occurs**: a condition that a **debugger has requested to be informed of** - for example, **when a particular function is executed, or when a particular variable changes value**.
6. SIGABRT(6)
   1. Default Action
      1. Terminate (core dump)
      2. Process abort signal
   2. Def
      1. A signal sent to a process to tell it to abort or terminate. It is usually initiated by the process itself when it calls **abort()** function but can be sent to the process from outside like any other signal.
7. SIGEMT(7)
   1. Def
      1. A signal sent to a process when a emulator trap occurs.
8. SIGFPE(8)
   1. Default Action
      1. Terminate (core dump)
      2. Erroneous arithmetic operation
   1. Def
      1. A signal sent to a process when it **executes an erroneous arithmetic operation, such as division by zero** (the name "FPE, standing for floating-point exception, is **a misnomer as the signal covers integer-arithmetic errors as well**)
9. SIGKILL(9)
   1. Default Action
      1. Terminate
      2. Kill (cannot be caught or ignored)
   2. Def
      1. A signal sent to a process to cause it to terminate immediately without saving unsaved data.
      2. In contrast to SIGTERM and SIGINT, this **signal cannot be caught or ignored, and the receiving process cannot perform any clean-up** upon receiving this signal.
   3. Exceptions to be killed immediately
      1. **Zombie processes** cannot be killed since they are already dead and waiting for their parent to reap them.
      2. Processes that are in the **blocked** state\*\* will not die until they wake up again.
      3. The **init process** is special: it does not get signals that it does not want to handle, and thus it can ignore SIGKILL. An exception from this exception is while init is ptraced on Linux.
      4. An **uninterruptibly sleeping process** may not terminate (and free its resources) even when sent SIGKILL. This is one of the few cases in which UNIX system **may have to be rebooted** to solve a temporary software problem.
10. SIGBUS(10)
    1. Default Action
       1. Terminate (core dump)
       2. Access to an undefined portion of a memory object
    2. Def
       1. A signal sent to a process when it causes a **bus error**. The conditions that lead to the signal being sent are, for example, **incorrect memory address alignment or non-existent physical address**
11. SIGSEGV(11)
    1. Default Action
       1. Terminate (core dump)
       2. Invalid memory reference
    2. Def
       1. A signal sent to a process when it makes an invalid virtual memory reference, or segmentation fault, i.e. when it performs a segmentation violation.
12. SIGSYS(12)
    1. Default Action
       1. Terminate (core dump)
       2. Bad system call
    2. Def
       1. A signal sent to a process when it passes a bad argument to a syscall. In practice, this kind of signal is rarely encountered since applications rely on libraries (e.g., libc) to make the call for them.
       2. It can be received by applications violating the Linux Seccomp security rules configured to restrict them.
13. SIGPIPE(13)
    1. Default Action
       1. Terminate
       2. Write on a pipe with no one to read it
    2. Def
       1. A signal sent to a process when it attempts to write to a pipe without a process connected to the other end.
14. SIGALRM(14), SIGVTALRM(26), SIGPROF(27)
    1. Default Action
       1. SIGALRM
          1. Terminate
          2. Alarm clock
       2. SIGVTALRM
          1. Terminate
          2. Virtual timer expired
       3. SIGPROF
          1. Terminate
          2. Profiling timer expired
    2. Def
       1. A signal sent to a process when the time limit specified in a call to a preceding alarm setting function (such as setitimer) elapses.
          1. SIGALRM is sent when **real or clock time** elapses.
          2. SIGVTALRM is sent when **CPU time used by the process** elapses.
          3. SIGPROF is sent when CPU time used **by the process and by the system on behalf of the process** elapses.
15. SIGTERM(15)
    1. Default Action
       1. Terminate
       2. Termination signal
    2. Def
       1. A signal sent to a process to request its termination. It can be caughted and interpreted or ignored by the process unlike SIGKILL. This allows the process to perform nice termination releasing resources and saving state if appropriate.
       2. SIGINT is nearly identical to SIGTERM.
16. SIGURG(16)
    1. Default Action
       1. Ignore
       2. High bandwidth data is available at a socket
    2. Def
       1. A signal sent to a process when a socket has urgent and out-of-band data available to read.
17. SIGSTOP(17)
    1. Default action
       1. Stop
       2. Stop executing (cannot be caught or ignored)
    2. Def
       1. A signal instructs the OS to stop a process for later resumption
18. SIGTSTP(18)
    1. Default action
       1. Stop
       2. Terminal stop signal
    2.
19. SIGCONT(19)
    1. Default action
       1. Continue
       2. Continue executing, if stopped
    2. Def
       1. A signal instructs the OS to continue (restart) a process previously paused by the SIGSTOP or SIGSTP signal.
20. SIGCHLD(20)
    1. Default Action
       1. Ignore
       2. Child process terminated, stopped, or continued
    2. Def
       1. d
21. SIGTTIN(21)
    1. Default Action
       1. Stop
       2. Background process attempting read
22. SIGTTOU(22)
    1. Default Action
       1. Stop
       2. Background process attempting write
23. SIGIO(23)
24. SIGXCPU(24)
    1. Default Action
       1. Terminate (core dump)
       2. CPU time limit exceeded
25. SIGXFSZ(25)
    1. Default Action
       1. Terminate (core dump)
       2. File size limit exceeded
26. SIGWINCH(28)
    1. Default Action
       1. Ignore
       2. Terminal window size changed
27. SIGINFO(29)
    1. Def
       1. A signal sent to a process when a status (info) request is received from the controlling terminal.
28. SIGUSR1(30)
    1. Default Action
       1. Terminate
       2. User-defined signal 1
29. SIGUSR2(31)
    1. Default Action
       1. Terminate
       2. User-defined signal 2

## Terminology

1. Core Dump
   1. Same as crash dump, memory dump, or system dump
      1. consists of **recorded state of the working memory of a computer program at a specific time, generally when the program has crashed or otherwise terminated abnormally**.
      2. Other key pieces of program state are usually dumped at the same time, including the processor registers, which may include the program counter and stack pointer, memory management information, and other processor and OS flags and information.
         1. Whereas a snapshot dump or snap dump is **a memory dump requested by the computer operator or by the running program, after which the program is able to continue**.
   2. Analysis
      1. **A debugger can use a symbol table, if one exists, to help the programmer interpret dumps, identifying variables symbolically and displaying source code**; if the symbol table is not available, less interpretation of the dump is possible, but there might still be enough possible to determine the cause of the program. There are also special-purpose tools called dump analyzers to analyze dumps. GNU binutils' objdump is one of them.
